var ce=Object.defineProperty;var ie=(t,e,r)=>e in t?ce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var U=(t,e,r)=>(ie(t,typeof e!="symbol"?e+"":e,r),r);import{j as n,N as v,bD as le,b0 as h,b1 as N,$ as O,Y as L,r as m,a as P,bE as de,F as j,O as J,_ as F,bf as B,o as ue,A as fe,bk as D,bF as Y,bG as me,br as xe,bH as ve,h as he}from"./index-1a1a81e1.js";import{n as Q,p as S}from"./useErigonHooks-c9b7ed80.js";const pe="/assets/sourcify-53ad50ef.svg",ye=()=>n.jsx("img",{src:pe,alt:"Sourcify logo",title:"Verified by Sourcify",width:16,height:16}),C=({address:t,linkable:e,dontOverrideColors:r})=>e?n.jsx(v,{className:`${r?"":"text-link-blue hover:text-link-blue-hover"} truncate font-address`,to:`/address/${t}`,title:t,children:t}):n.jsx("span",{className:"truncate font-address text-gray-400",title:t,children:t}),x=({title:t,full:e,children:r})=>n.jsx("span",{className:`font-code ${e?"text-sm text-gray-500/70":"text-xs text-gray-400/70"} text-clip not-italic`,title:t,children:r}),be=(t,e,r)=>{if(r===void 0)return;let s=r-e*t,o=e;return s<0&&(o=s+e,o<0&&(o=0),s=0),{idx:s,count:o}},js=(t,e,r)=>{const s=`ots_get${e}TransferCount`,o=S(t),{data:a,error:c}=O([s,r],o);if(!c)return a},W=new le,je=t=>{const e=S(t);return async r=>{const s=await e(r);if(s===void 0)return;const o=s.results.map(c=>({hash:c.hash,transaction:W.transactionResponse(c.transaction),receipt:W.receipt(c.receipt)})),a=new Map;for(const[c,d]of Object.entries(s.blocksSummary))a.set(parseInt(c),d);return{blocksSummary:a,results:o.reverse()}}},ws=(t,e,r,s,o,a)=>{const c=be(s,o,a),d=`ots_get${e}TransferList`,i=je(t),{data:l,error:u}=O(c===void 0?null:[d,r,c.idx,c.count],i);if(!u)return l},gs=(t,e)=>{const r=S(t),{data:s,error:o}=L(["ots_getERC20Holdings",e],r);return m.useMemo(()=>{if(!o&&s!=null)return s.map(c=>c.address)},[s,o])},we=new h(N,Q),ge=t=>async([e,r,s])=>t===void 0?null:we.connect(t).attach(s).balanceOf(r),As=(t,e,r)=>{const s=ge(t),{data:o,error:a}=L(["erc20balance",e,r],s);if(!a&&o!=null)return o},Ae=(t,e)=>{const r=S(t),{data:s,error:o}=L(["ots_getAddressAttributes",e],r);if(!o&&s!=null)return s},Pe=({address:t,full:e})=>{const{provider:r}=m.useContext(P),s=Ae(r,t);return n.jsxs(n.Fragment,{children:[(s==null?void 0:s.erc20)&&n.jsxs(x,{full:e,title:"ERC20 token",uniqueId:"erc20",children:["[",e?"ERC20":"20","]"]}),(s==null?void 0:s.erc165)&&n.jsxs(x,{full:e,title:"ERC165 contract",uniqueId:"erc165",children:["[",e?"ERC165":"165","]"]}),(s==null?void 0:s.erc721)&&n.jsxs(x,{full:e,title:"ERC721 token",uniqueId:"erc721",children:["[",e?"ERC721":"721","]"]}),(s==null?void 0:s.erc1155)&&n.jsxs(x,{full:e,title:"ERC1155 token",uniqueId:"erc1155",children:["[",e?"ERC1155":"1155","]"]}),(s==null?void 0:s.erc1167)&&n.jsxs(x,{full:e,title:"ERC1167 minimal proxy",uniqueId:"erc1167",children:["[",e?"ERC1167":"1167","]"]}),(s==null?void 0:s.erc1167Logic)&&n.jsxs(x,{full:e,title:"ERC1167 logic contract",uniqueId:"erc1167logic",children:["[",e?"ERC1167-Logic":"1167-L","]"]}),(s==null?void 0:s.erc1167)&&n.jsx(x,{full:e,title:"Proxy",uniqueId:"proxy",children:"[P]"}),(s==null?void 0:s.erc1167Logic)&&n.jsx(x,{full:e,title:"Logic",uniqueId:"logic",children:"[L]"})]})},Re="/assets/ensLogo-df3d41f8.svg",$e=({name:t,address:e,linkable:r,dontOverrideColors:s})=>r?n.jsx(v,{className:`inline-flex items-baseline space-x-1 font-sans ${s?"":"text-link-blue hover:text-link-blue-hover"} truncate`,to:`/address/${t}`,title:`${t}: ${e}`,children:n.jsx(q,{linkable:!0,name:t})}):n.jsx("span",{className:"inline-flex items-baseline space-x-1 truncate font-sans text-gray-700",title:`${t}: ${e}`,children:n.jsx(q,{linkable:!1,name:t})}),q=({linkable:t,name:e})=>n.jsxs(n.Fragment,{children:[n.jsx("img",{className:`self-center ${t?"":"grayscale"}`,src:Re,alt:"ENS Logo",width:12,height:12}),n.jsx("span",{className:"truncate",children:e})]}),_e=(t,e,r,s,o)=>n.jsx($e,{address:e,name:r,linkable:s,dontOverrideColors:o}),Ne=({address:t,name:e,linkable:r,dontOverrideColors:s})=>r?n.jsx(v,{className:`${s?"":"text-link-blue hover:text-link-blue-hover"} truncate`,to:`/address/${t}`,title:e,children:e}):n.jsx("span",{className:"truncate text-gray-400",title:e,children:e}),Se=(t,e,r,s,o)=>n.jsx(Ne,{address:e,name:r,linkable:s,dontOverrideColors:o});function A(t){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(t)}function Ee(t,e){if(A(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e||"default");if(A(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ke(t){var e=Ee(t,"string");return A(e)==="symbol"?e:String(e)}function Ce(t,e,r){return e=ke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Oe=function(t){var e=t.decode,r=e===void 0?!0:e,s=t.crossOrigin,o=s===void 0?"":s;return function(a){return new Promise(function(c,d){var i=new Image;o&&(i.crossOrigin=o),i.onload=function(){r&&i.decode?i.decode().then(c).catch(d):c()},i.onerror=d,i.src=a})}};function M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,s)}return r}function R(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M(Object(r),!0).forEach(function(s){Ce(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var Le=function(e){return e.filter(function(r){return r})},Te=function(e){return Array.isArray(e)?e:[e]},f={},Ie=function(e,r){var s=!1;return new Promise(function(o,a){var c=function(i){return r(i).then(function(){s=!0,o(i)})};e.reduce(function(d,i){return d.catch(function(){if(!s)return c(i)})},c(e.shift())).catch(a)})};function Ve(t){var e=t.srcList,r=t.imgPromise,s=r===void 0?Oe({decode:!0}):r,o=t.useSuspense,a=o===void 0?!0:o,c=m.useState(!1),d=c[1],i=Le(Te(e)),l=i.join("");if(f[l]||(f[l]={promise:Ie(i,s),cache:"pending",error:null}),f[l].cache==="resolved")return{src:f[l].src,isLoading:!1,error:null};if(f[l].cache==="rejected"){if(a)throw f[l].error;return{isLoading:!1,error:f[l].error,src:void 0}}if(f[l].promise.then(function(u){f[l]=R(R({},f[l]),{},{cache:"resolved",src:u}),a||d(l)}).catch(function(u){f[l]=R(R({},f[l]),{},{cache:"rejected",error:u}),a||d(l)}),a)throw f[l].promise;return{isLoading:!0,src:void 0,error:null}}const Ue=({chainId:t,address:e,name:r})=>{const{config:s}=m.useContext(P),o=[];s&&o.push(de(s.assetsURLPrefix??"",t,e));const{src:a,isLoading:c}=Ve({srcList:o,useSuspense:!1});return n.jsxs("div",{className:"flex h-5 w-5 items-center justify-center text-gray-400",children:[a&&n.jsx("img",{className:"max-h-full max-w-full",src:a,alt:`${r} logo`}),!a&&!c&&n.jsx(j,{icon:J,size:"1x"})]})},E=m.memo(Ue),Fe=({chainId:t,address:e,name:r,symbol:s,linkable:o,dontOverrideColors:a})=>o?n.jsx(v,{className:`flex items-baseline space-x-1 font-sans ${a?"":"text-link-blue hover:text-link-blue-hover"} truncate`,to:`/address/${e}`,title:`${r} (${s}): ${e}`,children:n.jsx(H,{chainId:t,address:e,linkable:!0,name:r,symbol:s})}):n.jsx("div",{className:"flex items-baseline space-x-1 truncate font-sans text-gray-700",title:`${r} (${s}): ${e}`,children:n.jsx(H,{chainId:t,address:e,linkable:!1,name:r,symbol:s})}),H=({chainId:t,address:e,name:r,symbol:s,linkable:o})=>n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`h-5 w-5 self-center ${o?"":"grayscale"}`,children:n.jsx(E,{chainId:t,address:e,name:r})}),n.jsxs("span",{className:"truncate",children:[r," (",s,")"]})]}),Be=(t,e,r,s,o)=>n.jsx(Fe,{chainId:t,address:e,name:r.name,symbol:r.symbol,linkable:s,dontOverrideColors:o}),De=({chainId:t,address:e,token:r,linkable:s,dontOverrideColors:o})=>s?n.jsxs(v,{className:`flex items-baseline space-x-1 font-sans ${o?"":"text-link-blue hover:text-link-blue-hover"} truncate`,to:`/address/${e}`,title:`Uniswap V1 LP (${r.symbol}): ${e}`,children:[n.jsx("span",{children:"Uniswap V1 LP:"}),n.jsx(z,{chainId:t,address:r.address,name:r.name,symbol:r.symbol,linkable:!0})]}):n.jsxs("div",{className:"flex items-baseline space-x-1 truncate font-sans text-gray-700",title:`Uniswap V1 LP (${r.symbol}): ${e}`,children:[n.jsx("span",{children:"Uniswap V1 LP:"}),n.jsx(z,{chainId:t,address:r.address,name:r.name,symbol:r.symbol})]}),z=({chainId:t,address:e,name:r,symbol:s,linkable:o})=>n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`h-5 w-5 self-center ${o?"":"grayscale"}`,children:n.jsx(E,{chainId:t,address:e,name:r})}),n.jsx("span",{children:s})]}),Ye=(t,e,r,s,o)=>n.jsx(De,{chainId:t,address:e,token:r.token,linkable:s,dontOverrideColors:o}),We=({chainId:t,address:e,token0:r,token1:s,linkable:o,dontOverrideColors:a})=>o?n.jsxs(v,{className:`flex items-baseline space-x-1 font-sans ${a?"":"text-link-blue hover:text-link-blue-hover"} truncate`,to:`/address/${e}`,title:`Uniswap V2 LP (${r.symbol}/${s.symbol}): ${e}`,children:[n.jsx("span",{children:"Uniswap V2 LP:"}),n.jsx($,{chainId:t,address:r.address,name:r.name,symbol:r.symbol,linkable:!0}),n.jsx("span",{children:"/"}),n.jsx($,{chainId:t,address:s.address,name:s.name,symbol:s.symbol,linkable:!0})]}):n.jsxs("div",{className:"flex items-baseline space-x-1 truncate font-sans text-gray-700",title:`Uniswap V2 LP (${r.symbol}/${s.symbol}): ${e}`,children:[n.jsx("span",{children:"Uniswap V2 LP:"}),n.jsx($,{chainId:t,address:r.address,name:r.name,symbol:r.symbol}),n.jsx("span",{children:"/"}),n.jsx($,{chainId:t,address:s.address,name:s.name,symbol:s.symbol})]}),$=({chainId:t,address:e,name:r,symbol:s,linkable:o})=>n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`h-5 w-5 self-center ${o?"":"grayscale"}`,children:n.jsx(E,{chainId:t,address:e,name:r})}),n.jsx("span",{children:s})]}),qe=(t,e,r,s,o)=>n.jsx(We,{chainId:t,address:e,token0:r.token0,token1:r.token1,linkable:s,dontOverrideColors:o}),Me=({chainId:t,address:e,token0:r,token1:s,fee:o,linkable:a,dontOverrideColors:c})=>a?n.jsxs(v,{className:`flex items-baseline space-x-1 font-sans ${c?"":"text-link-blue hover:text-link-blue-hover"} truncate`,to:`/address/${e}`,title:`Uniswap V3 LP (${r.symbol}/${s.symbol}/${o/1e4}%): ${e}`,children:[n.jsx("span",{children:"Uniswap V3 LP:"}),n.jsx(_,{chainId:t,address:r.address,name:r.name,symbol:r.symbol,linkable:!0}),n.jsx("span",{children:"/"}),n.jsx(_,{chainId:t,address:s.address,name:s.name,symbol:s.symbol,linkable:!0}),n.jsxs("span",{children:["/ ",o/1e4,"%"]})]}):n.jsxs("div",{className:"flex items-baseline space-x-1 truncate font-sans text-gray-700",title:`Uniswap V3 LP (${r.symbol}/${s.symbol}/${o/1e4}%): ${e}`,children:[n.jsx("span",{children:"Uniswap V3 LP:"}),n.jsx(_,{chainId:t,address:r.address,name:r.name,symbol:r.symbol}),n.jsx("span",{children:"/"}),n.jsx(_,{chainId:t,address:s.address,name:s.name,symbol:s.symbol}),n.jsxs("span",{children:["/ ",o/1e4,"%"]})]}),_=({chainId:t,address:e,name:r,symbol:s,linkable:o})=>n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`h-5 w-5 self-center ${o?"":"grayscale"}`,children:n.jsx(E,{chainId:t,address:e,name:r})}),n.jsx("span",{children:s})]}),He=(t,e,r,s,o)=>n.jsx(Me,{chainId:t,address:e,token0:r.token0,token1:r.token1,fee:r.fee,linkable:s,dontOverrideColors:o});class X{constructor(){U(this,"resolvers",[])}addResolver(e){this.resolvers.push(e)}async resolveAddress(e,r){for(const s of this.resolvers)try{const o=await s.resolveAddress(e,r);if(o!==void 0)return[s,o]}catch(o){console.warn(`Error while trying to resolve addr ${r}`),console.warn(o)}return null}}class ze{async resolveAddress(e,r){const s=await e.lookupAddress(r);if(s!==null)return s}}const Ge=new h(N,Q);class k{async resolveAddress(e,r){const s=Ge.connect(e).attach(r);try{const o=await s.name();if(!o.trim())return;const[a,c]=await Promise.all([s.symbol(),s.decimals()]);return a.trim()?{name:o,symbol:a,decimals:c}:void 0}catch{}}}const Ke="0xc0a47dFe034B400B47bDaD5FecDa2621de6c4d95",Ze=["function getToken(address exchange) external view returns (address token)"],Je="0x0000000000000000000000000000000000000000",Qe=new h(Ke,Ze),Xe=new k;class es{async resolveAddress(e,r){const s=Qe.connect(e);try{const o=await s.getToken(r);if(o===Je)return;const a=await Xe.resolveAddress(e,o);return a===void 0?void 0:{exchange:r,token:{address:o,...a}}}catch{}}}const ee="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",ss=["function getPair(address tokenA, address tokenB) external view returns (address pair)"],rs=["function factory() external view returns (address)","function token0() external view returns (address)","function token1() external view returns (address)"],ts=new h(ee,ss),ns=new h(N,rs),G=new k;class os{async resolveAddress(e,r){const s=ns.connect(e).attach(r),o=ts.connect(e);try{if(await s.factory()!==ee)return;const[c,d]=await Promise.all([s.token0(),s.token1()]);if(await o.getPair(c,d)!==r)return;const[l,u]=await Promise.all([G.resolveAddress(e,c),G.resolveAddress(e,d)]);return l===void 0||u===void 0?void 0:{pair:r,token0:{address:c,...l},token1:{address:d,...u}}}catch{}}}const se="0x1F98431c8aD98523631AE4a59f267346ea31F984",as=["function getPool(address tokenA, address tokenB, uint24 fee) external view returns (address pool)"],cs=["function factory() external view returns (address)","function token0() external view returns (address)","function token1() external view returns (address)","function fee() external view returns (uint24)"],is=new h(se,as),ls=new h(N,cs),K=new k;class ds{async resolveAddress(e,r){const s=ls.connect(e).attach(r),o=is.connect(e);try{if(await s.factory()!==se)return;const[c,d,i]=await Promise.all([s.token0(),s.token1(),s.fee()]);if(await o.getPool(c,d,i)!==r)return;const[u,b]=await Promise.all([K.resolveAddress(e,c),K.resolveAddress(e,d)]);return u===void 0||b===void 0?void 0:{pair:r,token0:{address:c,...u},token1:{address:d,...b},fee:i}}catch{}}}const us=(t,e)=>{const r=t[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((s,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+e)))})};class fs{async resolveAddress(e,r){try{return(await us(Object.assign({"./hardcoded-addresses/1.json":()=>F(()=>import("./1-2421ece8.js"),[]),"./hardcoded-addresses/11155111.json":()=>F(()=>import("./11155111-c27b932d.js"),[])}),`./hardcoded-addresses/${e.network.chainId}.json`)).default[r]}catch{return}}}const re=new ze,te=new es,ne=new os,oe=new ds,T=new k,I=new fs,p=new X;p.addResolver(re);p.addResolver(oe);p.addResolver(ne);p.addResolver(te);p.addResolver(T);p.addResolver(I);const V=new X;V.addResolver(T);V.addResolver(I);const Z={1:p,0:V},ms=t=>{const e=Z[t];return e===void 0?Z[0]:e},y=new Map;y.set(re,_e);y.set(te,Ye);y.set(ne,qe);y.set(oe,He);y.set(T,Be);y.set(I,Se);const Ps=(t,e)=>{const{provider:r}=m.useContext(P),[s,o]=m.useState(B(t)?t:void 0),[a,c]=m.useState(),[d,i]=m.useState();return m.useEffect(()=>{if(B(t)){const l=ue(t);if(l!==t){e(l);return}c(!1),i(!1),o(l);return}r&&(r.network.ensAddress?(async()=>{const u=await r.resolveName(t);u!==null?(c(!0),i(!1),o(u)):(c(!1),i(!0),o(void 0))})():(c(!1),i(!0),o(void 0)))},[r,t,e]),[s,a,d]},xs=(t,e)=>{const r=async a=>t?ms(t.network.chainId).resolveAddress(t,a):void 0,{data:s,error:o}=O(e,r);if(!o)return s},vs=({address:t,selectedAddress:e,addressCtx:r,creation:s,miner:o,selfDestruct:a,txFrom:c,txTo:d,eoa:i,plain:l})=>{const{config:u,provider:b}=m.useContext(P),ae=fe(t,b==null?void 0:b.network.chainId),w=r===D.FROM&&t===Y,g=r===D.TO&&t===Y;return n.jsxs("div",{className:`flex items-baseline space-x-1 ${c?"bg-skin-from":""} ${d?"bg-skin-to":""} ${w?"italic text-emerald-500 hover:text-emerald-700":""} ${g?"text-orange-500 line-through hover:text-orange-700":""} ${a?"line-through opacity-70 hover:opacity-100":""}`,children:[s&&n.jsx("span",{className:"text-amber-300",title:"Contract creation",children:n.jsx(j,{icon:me,size:"1x"})}),a&&n.jsx("span",{className:"text-red-800",title:"Self destruct",children:n.jsx(j,{icon:xe,size:"1x"})}),w&&n.jsx("span",{className:"text-emerald-500",title:"Mint address",children:n.jsx(j,{icon:ve,size:"1x"})}),g&&n.jsx("span",{className:"text-orange-500",title:"Burn address",children:n.jsx(j,{icon:he,size:"1x"})}),o&&n.jsx("span",{className:"text-amber-400",title:"Miner address",children:n.jsx(j,{icon:J,size:"1x"})}),ae&&n.jsx(v,{className:"flex shrink-0 items-center self-center",to:`/address/${t}/contract`,children:n.jsx(ye,{})}),l?n.jsx(C,{address:t,linkable:t!==e,dontOverrideColors:w||g}):n.jsx(hs,{address:t,selectedAddress:e,dontOverrideColors:w||g}),!w&&!g&&n.jsxs(n.Fragment,{children:[i===!0&&n.jsx(x,{title:"Externally owned account",uniqueId:"eoa",children:"[EOA]"}),i===!1&&n.jsx(x,{title:"Contract account",uniqueId:"contract",children:"[C]"})]}),(u==null?void 0:u.experimental)&&n.jsx(Pe,{address:t})]})},hs=({address:t,selectedAddress:e,dontOverrideColors:r})=>{const{provider:s}=m.useContext(P),o=xs(s,t),a=t!==e;if(!s||!o)return n.jsx(C,{address:t,linkable:a,dontOverrideColors:r});const[c,d]=o,i=y.get(c);return i===void 0?n.jsx(C,{address:t,linkable:a,dontOverrideColors:r}):i(s.network.chainId,t,d,a,!!r)},Rs=m.memo(vs);export{Pe as A,Rs as D,ye as S,Ce as _,ws as a,As as b,gs as c,Ps as d,be as p,js as u};
