import{r as c,R as u,j as e,F as d,K as h,N as b,L as j,O as N,Q as v,a as g,V as T,f as E,W as R,m as I,X as x}from"./index-1a1a81e1.js";import{M as k}from"./MethodName-4e62719f.js";import{B as y}from"./BlockLink-7a655877.js";import{N as C}from"./NativeTokenAmount-907632e5.js";import{f as S}from"./useErigonHooks-c9b7ed80.js";import{T as m}from"./TransactionAddress-8c728d33.js";import{B as F}from"./useBlockTagContext-c84d8bd0.js";var t=(s=>(s[s.TX_FEE=0]="TX_FEE",s[s.TX_FEE_USD=1]="TX_FEE_USD",s[s.GAS_PRICE=2]="GAS_PRICE",s))(t||{});const z=()=>{const[s,a]=c.useState(0);return[s,()=>{a(s+1),s===2&&a(0)}]},_=({feeDisplay:s,feeDisplayToggler:a})=>e.jsxs("div",{className:"grid grid-cols-12 gap-x-1 border-t border-b border-gray-200 bg-gray-100 px-2 py-2 text-sm font-bold text-gray-500",children:[e.jsx("div",{className:"col-span-2",children:"Txn Hash"}),e.jsx("div",{children:"Method"}),e.jsx("div",{children:"Block"}),e.jsx("div",{children:"Age"}),e.jsx("div",{className:"col-span-2 ml-1",children:"From"}),e.jsx("div",{className:"col-span-2 ml-1",children:"To"}),e.jsx("div",{className:"col-span-2",children:"Value"}),e.jsx("div",{children:e.jsxs("button",{className:"text-link-blue hover:text-link-blue-hover",onClick:a,children:[s===t.TX_FEE&&"Txn Fee",s===t.TX_FEE_USD&&"Txn Fee (USD)",s===t.GAS_PRICE&&"Gas Price"]})})]}),K=u.memo(_),w=()=>e.jsxs("div",{className:"grid animate-pulse grid-cols-12 items-baseline gap-x-1 border-t border-gray-200 px-2 py-3 text-sm",children:[e.jsx("div",{className:"col-span-2 h-5 w-full rounded bg-gradient-to-r from-gray-100 to-transparent"}),e.jsx("div",{className:"col-span-1 h-5 w-full rounded bg-gradient-to-r from-gray-100 to-transparent"}),e.jsx("div",{className:"col-span-1 h-5 w-full rounded bg-gradient-to-r from-gray-100 to-transparent"}),e.jsx("div",{className:"col-span-1 h-5 w-full rounded bg-gradient-to-r from-gray-100 to-transparent"}),e.jsx("div",{className:"col-span-2 h-5 w-full rounded bg-gradient-to-r from-gray-100 to-transparent"}),e.jsx("div",{className:"col-span-2 h-5 w-full rounded bg-gradient-to-r from-gray-100 to-transparent"}),e.jsx("div",{className:"col-span-2 h-5 w-full rounded bg-gradient-to-r from-gray-100 to-transparent"}),e.jsx("div",{className:"col-span-1 h-5 w-full rounded bg-gradient-to-r from-gray-100 to-transparent"})]}),Q=u.memo(w),L=({txHash:s,fail:a})=>e.jsxs("span",{className:"flex flex-no-wrap space-x-1",children:[a&&e.jsx("span",{className:"text-red-600",title:"Transaction reverted",children:e.jsx(d,{icon:h})}),e.jsx("span",{className:"truncate",children:e.jsx(b,{className:"font-hash text-link-blue hover:text-link-blue-hover",to:j(s),children:e.jsx("p",{className:"truncate",children:s})})})]}),U=c.memo(L);var i=(s=>(s[s.IN=0]="IN",s[s.OUT=1]="OUT",s[s.SELF=2]="SELF",s[s.INTERNAL=3]="INTERNAL",s))(i||{}),p=(s=>(s[s.MINER=0]="MINER",s))(p||{});const P=({direction:s,flags:a})=>{let r="bg-emerald-50",o="text-emerald-500",n=null;return s===0?n="IN":s===1?(r="bg-amber-100",o="text-amber-600",n="OUT"):s===2?(r="bg-gray-200",o="text-gray-500",n="SELF"):s===3&&(n="INT",r="bg-emerald-100"),a===0&&(r="bg-amber-50",o="text-amber-400"),e.jsx("span",{className:`${r} ${o} ${s!==void 0?"rounded-lg px-2 py-1":"flex h-5 w-5 items-center justify-center rounded-full"} text-xs font-bold`,children:a===0?e.jsx(d,{icon:N,size:"1x"}):n??e.jsx("span",{children:e.jsx(d,{icon:v})})})},A=u.memo(P),X=({blockTag:s,fee:a})=>{const{provider:r}=c.useContext(g),o=T(r,s),n=o!==void 0?a.mul(o).div(10**8):void 0;return n?e.jsxs("span",{className:"text-xs",children:["$",e.jsx("span",{className:"font-balance",children:E(R.fromValue(n,18).round(2).toString())})]}):e.jsx(e.Fragment,{children:"N/A"})},W=({tx:s,selectedAddress:a,feeDisplay:r})=>{const{provider:o}=c.useContext(g),[n]=S(o,s.hash,s.miner);let l;a&&(s.from===a&&s.to===a?l=i.SELF:s.from===a?l=i.OUT:s.to===a||s.createdContractAddress===a?l=i.IN:l=i.INTERNAL);const f=s.gasPrice.isZero()&&n;return e.jsx(F.Provider,{value:s.blockNumber,children:e.jsxs("div",{className:`grid grid-cols-12 items-baseline gap-x-1 border-t border-gray-200 text-sm ${f?"bg-amber-100 hover:bg-amber-200":"hover:bg-skin-table-hover"} px-2 py-3`,children:[e.jsx("span",{className:"col-span-2",children:e.jsx(U,{txHash:s.hash,fail:s.status===0})}),s.to!==null?e.jsx(k,{data:s.data}):e.jsx("span",{}),e.jsx("span",{children:e.jsx(y,{blockTag:s.blockNumber})}),e.jsx(I,{timestamp:s.timestamp}),e.jsxs("span",{className:"col-span-2 flex items-baseline justify-between space-x-2 pr-2",children:[e.jsx("span",{className:"truncate",children:s.from&&e.jsx(m,{address:s.from,selectedAddress:a,miner:s.miner===s.from})}),e.jsx("span",{children:e.jsx(A,{direction:l,flags:n?p.MINER:void 0})})]}),e.jsx("span",{className:"col-span-2 flex items-baseline",title:s.to??s.createdContractAddress,children:e.jsx("span",{className:"truncate",children:s.to?e.jsx(m,{address:s.to,selectedAddress:a,miner:s.miner===s.to,showCodeIndicator:!0}):e.jsx(m,{address:s.createdContractAddress,selectedAddress:a,creation:!0,showCodeIndicator:!0})})}),e.jsx("span",{className:"col-span-2 truncate",children:e.jsx(C,{value:s.value})}),e.jsxs("span",{className:"truncate font-balance text-xs text-gray-500",children:[r===t.TX_FEE&&x(s.fee,18),r===t.TX_FEE_USD&&e.jsx(X,{blockTag:s.blockNumber,fee:s.fee}),r===t.GAS_PRICE&&x(s.gasPrice,9)]})]})})};export{Q as P,K as R,W as T,U as a,A as b,z as u};
