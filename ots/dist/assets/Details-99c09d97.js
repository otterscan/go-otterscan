import{r as l,j as e,f as w,F as c,bg as ue,bh as fe,a as f,R as E,av as pe,aw as $,c as I,V as be,bi as k,w as H,bj as oe,aX as ce,b3 as F,B as ve,h as ge,O as Ne,n as ye,bk as Y,A as Te,bl as Ce,bm as Pe,a3 as Fe,a4 as we,T as ke,i as O}from"./index-1a1a81e1.js";import{C as Ee}from"./ContentFrame-677dbbad.js";import{I as o}from"./InfoRow-bba0e2d4.js";import{B as Ie}from"./BlockLink-7a655877.js";import{C as Se,M as D,T as G}from"./ModeTab-f1bdf5da.js";import{E as Re,I as Be}from"./InputDecoder-93e800cd.js";import{N as ee}from"./NavButton-d3ad74da.js";import{h as Ae,i as Me,j as S,e as se,d as $e,f as Ge,k as Ue,l as ze}from"./useErigonHooks-c9b7ed80.js";import{A as C}from"./AddressHighlighter-79fb858b.js";import{D as P}from"./DecoratedAddressLink-fc50b0da.js";import{U as le,F as He}from"./USDAmount-697bc83f.js";import{T}from"./TransactionAddress-8c728d33.js";import{M as Le}from"./MethodName-4e62719f.js";import{N as re}from"./NativeTokenAmountAndFiat-19062877.js";import{E as z}from"./ExternalLink-5a9b2f29.js";import{F as x}from"./FormattedBalance-4d723175.js";import{R as ae,N as qe}from"./NativeTokenPrice-b2175a10.js";import{u as We}from"./useBlockTagContext-c84d8bd0.js";import{P as Je}from"./PercentageBar-a372b68a.js";import{D as Ve,S as Ze}from"./StandardTextarea-bdaa3e9b.js";import{f as ie}from"./FiatValue-dc8f4023.js";import{e as Xe,u as _e,a as Ke}from"./use4Bytes-772ec269.js";import{J as y}from"./NavTab-e6699f77.js";import"./description-ca773d3c.js";import"./hidden-7488b6ab.js";import"./StandardSelectionBoundary-204c519a.js";import"./NativeTokenAmount-907632e5.js";const Qe=({confirmations:s})=>e.jsxs("span",{className:"rounded bg-gray-100 px-2 py-1 text-xs text-gray-500",children:[w(s)," Block"," ",s===1?"Confirmation":"Confirmations"]}),Ye=l.memo(Qe),Oe=({value:s})=>e.jsxs("span",{className:"flex-inline items-baseline space-x-2 rounded-lg bg-emerald-50 px-2 py-1 text-xs",title:"Nonce",children:[e.jsx("span",{className:"text-emerald-400",children:e.jsx(c,{icon:ue,size:"1x"})}),e.jsx("span",{className:"text-emerald-600",children:w(s)})]}),De=l.memo(Oe),U=({sender:s,nonce:r,disabled:a,children:i})=>{const[t,n]=l.useState(!1);return a?e.jsx(ee,{href:"",disabled:!0,children:i}):e.jsxs(e.Fragment,{children:[e.jsx(ee,{href:fe(s,r),onMouseOver:()=>n(!0),children:i}),t&&e.jsx(es,{checksummedAddress:s,nonce:r})]})},es=({checksummedAddress:s,nonce:r})=>{const{provider:a}=l.useContext(f);return Ae(a,s,r),e.jsx(e.Fragment,{})},ss=({sender:s,nonce:r})=>{const{provider:a}=l.useContext(f),i=Me(a,s);return e.jsxs("div",{className:"flex space-x-1 self-center pl-2",children:[e.jsx(U,{sender:s,nonce:r-1,disabled:r===0,children:e.jsx(c,{icon:pe})}),e.jsx(U,{sender:s,nonce:r+1,disabled:i===void 0||r>=i-1,children:e.jsx(c,{icon:$})}),e.jsxs(U,{sender:s,nonce:i!==void 0?i-1:-1,disabled:i===void 0||r>=i-1,children:[e.jsx(c,{icon:$}),e.jsx(c,{icon:$})]})]})},rs=E.memo(ss),as=({txData:s,internalOp:r})=>{var m;const{provider:a}=l.useContext(f),i=S(a,s),{nativeCurrency:{symbol:t,decimals:n}}=I(),p=(i==null?void 0:i.miner)!==void 0&&r.from===i.miner,h=(i==null?void 0:i.miner)!==void 0&&r.to===i.miner,j=be(a,(m=s.confirmedData)==null?void 0:m.blockNumber),u=se(a,r.from,s.confirmedData?s.confirmedData.blockNumber-1:void 0),b=se(a,r.to,s.confirmedData?s.confirmedData.blockNumber-1:void 0);return e.jsx("div",{className:"flex items-baseline space-x-1 truncate",children:e.jsxs("div",{className:"grid w-full grid-cols-6 items-baseline gap-x-1",children:[e.jsxs("div",{className:"col-span-2 flex items-baseline space-x-1",children:[e.jsxs("span",{className:"text-gray-500",children:[e.jsx(c,{icon:k,size:"1x"})," TRANSFER"]}),e.jsx("div",{className:"flex items-baseline truncate",children:e.jsx(C,{address:r.from,children:e.jsx("div",{className:`flex items-baseline space-x-1 ${p?"rounded bg-amber-100 px-2 py-1":""}`,children:e.jsx(P,{address:r.from,miner:p,txFrom:r.from===s.from,txTo:r.from===s.to,eoa:u===void 0?void 0:!u})})})})]}),e.jsxs("div",{className:"col-span-2 flex items-baseline space-x-1",children:[e.jsx("span",{className:"text-gray-500",children:e.jsx(c,{icon:H,size:"1x"})}),e.jsx(C,{address:r.to,children:e.jsx("div",{className:`flex items-baseline space-x-1 ${h?"rounded bg-amber-100 px-2 py-1":""}`,children:e.jsx(P,{address:r.to,miner:h,txFrom:r.to===s.from,txTo:r.to===s.to,eoa:b===void 0?void 0:!b})})})]}),e.jsxs("div",{className:"col-span-2 flex items-baseline space-x-1",children:[e.jsx("span",{className:"text-gray-500",children:e.jsx(c,{icon:oe,size:"1x"})}),e.jsxs("span",{children:[ce(r.value)," ",t]}),j&&e.jsx(le,{amount:r.value,amountDecimals:n,quote:j,quoteDecimals:8})]})]})})},is=({txData:s,internalOp:r})=>{const{provider:a}=l.useContext(f),i=S(a,s),{nativeCurrency:{symbol:t}}=I(),n=(i==null?void 0:i.miner)!==void 0&&r.to===i.miner;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-baseline space-x-1 whitespace-nowrap",children:[e.jsxs("span",{className:"text-gray-500",children:[e.jsx(c,{icon:k,size:"1x"})," SELF DESTRUCT"]}),e.jsx("div",{className:"flex items-baseline",children:e.jsx(C,{address:r.from,children:e.jsx(P,{address:r.from,selfDestruct:!0})})}),r.value.isZero()&&e.jsxs("div",{className:"flex items-baseline text-gray-400",children:["(To: ",e.jsx(T,{address:r.to}),")"]})]}),!r.value.isZero()&&e.jsxs("div",{className:"ml-5 flex items-baseline space-x-1",children:[e.jsxs("span",{className:"text-gray-500",children:[e.jsx(c,{icon:k,size:"1x"})," TRANSFER"]}),e.jsxs("span",{children:[ce(r.value)," ",t]}),e.jsxs("div",{className:"flex items-baseline",children:[e.jsx("span",{className:"text-gray-500",children:"To"}),e.jsx(C,{address:r.to,children:e.jsx("div",{className:`flex items-baseline space-x-1 ${n?"rounded bg-amber-100 px-2 py-1":""}`,children:e.jsx(P,{address:r.to,miner:n})})})]})]})]})},ns=({internalOp:s})=>e.jsxs("div",{className:"flex items-baseline space-x-1 whitespace-nowrap",children:[e.jsxs("span",{className:"text-gray-500",children:[e.jsx(c,{icon:k,size:"1x"})," CREATE"]}),e.jsx("span",{className:"flex items-baseline text-gray-400",children:e.jsx(T,{address:s.from,showCodeIndicator:!0})}),e.jsx("span",{className:"text-gray-500",children:e.jsx(c,{icon:H,size:"1x"})}),e.jsx("div",{className:"flex items-baseline",children:e.jsx(C,{address:s.to,children:e.jsx(P,{address:s.to,creation:!0})})})]}),os=({txData:s,internalOp:r})=>e.jsxs(e.Fragment,{children:[r.type===F.TRANSFER&&e.jsx(as,{txData:s,internalOp:r}),r.type===F.SELF_DESTRUCT&&e.jsx(is,{txData:s,internalOp:r}),(r.type===F.CREATE||r.type===F.CREATE2)&&e.jsx(ns,{internalOp:r})]}),cs=E.memo(os),ls=({type:s})=>{let r;switch(s){case 0:r="legacy";break;case 1:r=e.jsx(z,{href:"https://eips.ethereum.org/EIPS/eip-2930",children:"EIP-2930"});break;case 2:r=e.jsx(z,{href:"https://eips.ethereum.org/EIPS/eip-1559",children:"EIP-1559"});break;default:r="unknown"}return e.jsxs("span",{children:[s," ",e.jsxs("span",{className:"font-bold",children:["(",r,")"]})]})},ts=E.memo(ls),ds=({perc:s,bgColor:r,bgColorPerc:a,textColor:i})=>e.jsxs("div",{className:"relative h-6 w-60 border-l-2 border-gray-400",children:[e.jsx("div",{className:"absolute flex h-full w-full",children:e.jsx("div",{className:`my-auto h-5 w-full rounded-r-lg ${r}`})}),e.jsx("div",{className:"absolute flex h-full w-full",children:e.jsx("div",{className:`my-auto h-5 rounded-r-lg ${a}`,style:{width:`${s}%`}})}),e.jsx("div",{className:`text-sans absolute flex h-full w-full mix-blend-multiply ${i}`,children:e.jsxs("span",{className:"m-auto",children:[s,"%"]})})]}),ne=l.memo(ds),ms=({txData:s})=>{const{provider:r}=l.useContext(f),a=S(r,s),{nativeCurrency:{symbol:i}}=I(),t=s.gasPrice.mul(s.confirmedData.gasUsed),n=a?a.baseFeePerGas.mul(s.confirmedData.gasUsed):ve.from(0),p=t.sub(n),h=Math.round(n.mul(1e4).div(t).toNumber())/100,j=Math.round((100-h)*100)/100;return e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"grid grid-cols-2 items-center gap-x-2 gap-y-1 text-sm",children:[e.jsx(ne,{perc:h,bgColor:"bg-orange-100",bgColorPerc:"bg-orange-500",textColor:"text-orange-800"}),e.jsx("div",{className:"flex items-baseline space-x-1",children:e.jsxs("span",{className:"flex space-x-1 text-orange-500",children:[e.jsx("span",{title:"Burnt fees",children:e.jsx(c,{icon:ge,size:"1x"})}),e.jsxs("span",{children:[e.jsx("span",{className:"line-through",children:e.jsx(x,{value:n})})," ",i]})]})}),e.jsx(ne,{perc:j,bgColor:"bg-amber-100",bgColorPerc:"bg-amber-300",textColor:"text-amber-700"}),e.jsx("div",{className:"flex items-baseline space-x-1",children:e.jsxs("span",{className:"flex space-x-1",children:[e.jsx("span",{className:"text-amber-300",title:"Miner fees",children:e.jsx(c,{icon:Ne,size:"1x"})}),e.jsx("span",{children:e.jsx(x,{value:p,symbol:i})})]})})]})})},xs=E.memo(ms),js=({t:s})=>{const{provider:r}=l.useContext(f),a=We(),[i,t]=ye(r,a,s.token),n=$e(r,s.token);return e.jsx("div",{className:"flex items-baseline space-x-2 truncate px-2 py-1 hover:bg-gray-100",children:e.jsxs("div",{className:"grid w-full grid-cols-4 items-baseline gap-x-1",children:[e.jsx("div",{className:"flex items-baseline space-x-1",children:e.jsx(T,{address:s.from,addressCtx:Y.FROM,showCodeIndicator:!0})}),e.jsxs("div",{className:"flex items-baseline space-x-1",children:[e.jsx("span",{className:"text-gray-500",children:e.jsx(c,{icon:H,size:"1x"})}),e.jsx(T,{address:s.to,addressCtx:Y.TO,showCodeIndicator:!0})]}),e.jsxs("div",{className:"col-span-2 flex items-baseline space-x-1",children:[e.jsx("span",{className:"text-gray-500",children:e.jsx(c,{icon:oe,size:"1x"})}),e.jsx("span",{children:e.jsx(He,{value:s.value,decimals:(n==null?void 0:n.decimals)??0})}),e.jsx(T,{address:s.token}),n&&i!==void 0&&t!==void 0&&e.jsx(le,{amount:s.value,amountDecimals:n.decimals,quote:i,quoteDecimals:t})]})]})})},hs=l.memo(js),us=({perc:s})=>e.jsx("div",{className:"w-40 self-center",children:e.jsxs("div",{className:"relative h-5 w-full rounded border border-orange-200",children:[e.jsx("div",{className:"absolute h-1/2 w-full border-b"}),e.jsx("div",{className:"absolute top-1/4 h-1/2 w-full border-l-2 border-r-2 border-gray-300"}),e.jsx("div",{className:"absolute top-1/4 h-1/2 w-1/2 border-r-2 border-gray-300"}),e.jsx("div",{className:"absolute top-1/4 h-1/2 w-1/4 border-r-2 border-gray-300"}),e.jsx("div",{className:"absolute top-1/4 h-1/2 w-3/4 border-r-2 border-gray-300"}),e.jsx("div",{className:"absolute h-full border-r-4 border-black",style:{width:`${s*100}%`}})]})}),fs=l.memo(us),ps=({txData:s})=>{var V,Z,X,_,K,Q;const{provider:r}=l.useContext(f),a=S(r,s),i=(a==null?void 0:a.baseFeePerGas)!==void 0&&(a==null?void 0:a.baseFeePerGas)!==null,t=s.to!==null?Xe(s.data)??"0x":"0x",n=_e(t),p=Ke(n,s.data,s.value),[h,j]=Ge(r,s.confirmedData?s.transactionHash:void 0,a==null?void 0:a.miner),u=Ue(s),b=Te(s==null?void 0:s.to,r==null?void 0:r.network.chainId),m=b==null?void 0:b.metadata,v=Ce(m,s),g=m==null?void 0:m.output.userdoc,N=m==null?void 0:m.output.devdoc,L=v??p,te=v?g==null?void 0:g.methods[v.signature]:void 0,de=v?N==null?void 0:N.methods[v.signature]:void 0,{nativeCurrency:{name:me,symbol:R}}=I(),[q,W,B]=ze(r,s.transactionHash),d=Pe(m,B?W:void 0),xe=d?(Z=(V=g==null?void 0:g.errors)==null?void 0:V[d.signature])==null?void 0:Z[0]:void 0,je=d?(_=(X=N==null?void 0:N.errors)==null?void 0:X[d.signature])==null?void 0:_[0]:void 0,[J,he]=l.useState(!1);return e.jsxs(Ee,{tabs:!0,children:[e.jsx(o,{title:"Transaction Hash",children:e.jsxs("div",{className:"flex items-baseline space-x-2",children:[e.jsx("span",{className:"font-hash",children:s.transactionHash}),e.jsx(Se,{value:s.transactionHash})]})}),e.jsx(o,{title:"Status",children:s.confirmedData===void 0?e.jsx("span",{className:"italic text-gray-400",children:"Pending"}):s.confirmedData.status?e.jsxs("span",{className:"flex w-min items-baseline space-x-1 rounded-lg bg-emerald-50 px-3 py-1 text-xs text-emerald-500",children:[e.jsx(c,{className:"self-center",icon:Fe,size:"1x"}),e.jsx("span",{children:"Success"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-baseline space-x-1",children:[e.jsxs("div",{className:"flex items-baseline space-x-1 rounded-lg bg-red-50 px-3 py-1 text-xs text-red-500",children:[e.jsx(c,{className:"self-center",icon:we,size:"1x"}),e.jsxs("span",{children:["Fail",q&&e.jsxs(e.Fragment,{children:[" ","with revert message: '",e.jsx("span",{className:"font-bold underline",children:q}),"'"]}),B&&e.jsxs(e.Fragment,{children:[" ","with custom error",d&&e.jsxs(e.Fragment,{children:[" '",e.jsx("span",{className:"font-code font-bold underline",children:d.name}),"'"]})]})]})]}),B&&e.jsx(Re,{expanded:J,setExpanded:he})]}),J&&e.jsxs(y.Group,{children:[e.jsxs(y.List,{className:"mb-1 mt-2 flex space-x-1",children:[e.jsx(D,{disabled:!d,children:"Decoded"}),e.jsx(D,{children:"Raw"})]}),e.jsxs(y.Panels,{children:[e.jsx(y.Panel,{children:d===void 0?e.jsx(e.Fragment,{children:"Waiting for data..."}):d===null?e.jsx(e.Fragment,{children:"Can't decode data"}):d.args.length===0?e.jsx(e.Fragment,{children:"No parameters"}):e.jsx(Ve,{args:d.args,paramTypes:d.errorFragment.inputs,hasParamNames:!0,userMethod:xe,devMethod:je})}),e.jsx(y.Panel,{children:e.jsx(Ze,{value:W})})]})]})]})}),s.confirmedData&&e.jsxs(e.Fragment,{children:[e.jsx(o,{title:"Block / Position",children:e.jsxs("div",{className:"flex items-baseline divide-x-2 divide-dotted divide-gray-300",children:[e.jsxs("div",{className:"mr-3 flex items-baseline space-x-1",children:[e.jsx(Ie,{blockTag:s.confirmedData.blockNumber}),e.jsx(Ye,{confirmations:s.confirmedData.confirmations})]}),a&&e.jsxs("div",{className:"flex items-baseline space-x-2 pl-3",children:[e.jsx(ae,{pos:s.confirmedData.transactionIndex,total:a.transactionCount-1}),e.jsx(fs,{perc:s.confirmedData.transactionIndex/(a.transactionCount-1)})]})]})}),e.jsx(o,{title:"Timestamp",children:a&&e.jsx(ke,{value:a.timestamp})})]}),e.jsx(o,{title:"From / Nonce",children:e.jsxs("div",{className:"flex divide-x-2 divide-dotted divide-gray-300",children:[e.jsx(G,{address:s.from}),e.jsxs("div",{className:"ml-3 flex items-baseline pl-3",children:[e.jsx(De,{value:s.nonce}),e.jsx(rs,{sender:s.from,nonce:s.nonce})]})]})}),e.jsxs(o,{title:s.to?"Interacted With (To)":"Contract Created",children:[s.to?e.jsx(G,{address:s.to,showCodeIndicator:!0}):s.confirmedData===void 0?e.jsx("span",{className:"italic text-gray-400",children:"Pending contract creation"}):e.jsx(G,{address:(K=s.confirmedData)==null?void 0:K.createdContractAddress}),j&&j.length>0&&e.jsx("div",{className:"mt-2 space-y-1 overflow-x-auto",children:j.map((A,M)=>e.jsx(cs,{txData:s,internalOp:A},M))})]}),s.to&&e.jsx(o,{title:"Transaction Action",children:e.jsx(Le,{data:s.data})}),u&&u.length>0&&e.jsx(o,{title:`Tokens Transferred (${u.length})`,children:u.map((A,M)=>e.jsx(hs,{t:A},M))}),e.jsx(o,{title:"Value",children:e.jsx(re,{value:s.value,blockTag:(Q=s.confirmedData)==null?void 0:Q.blockNumber,...ie})}),e.jsx(o,{title:e.jsxs(e.Fragment,{children:["Type (",e.jsx(z,{href:"https://eips.ethereum.org/EIPS/eip-2718",children:"EIP-2718"}),")"]}),children:e.jsx(ts,{type:s.type})}),s.type===2&&e.jsxs(e.Fragment,{children:[e.jsxs(o,{title:"Max Priority Fee Per Gas",children:[e.jsx(x,{value:s.maxPriorityFeePerGas,symbol:R})," ","(",e.jsx(x,{value:s.maxPriorityFeePerGas,decimals:9,symbol:"Gwei"}),")"]}),e.jsxs(o,{title:"Max Fee Per Gas",children:[e.jsx(x,{value:s.maxFeePerGas,symbol:R})," (",e.jsx(x,{value:s.maxFeePerGas,decimals:9,symbol:"Gwei"}),")"]})]}),s.gasPrice&&e.jsx(o,{title:"Gas Price",children:e.jsxs("div",{className:"flex items-baseline space-x-1",children:[e.jsxs("span",{children:[e.jsx(x,{value:s.gasPrice,symbol:R})," (",e.jsx(x,{value:s.gasPrice,decimals:9,symbol:"Gwei"}),")"]}),h&&e.jsx("span",{className:"rounded bg-amber-100 px-2 py-1 text-xs text-amber-500",children:"Flashbots"})]})}),s.confirmedData&&e.jsx(o,{title:"Gas Used / Limit",children:e.jsxs("div",{className:"flex items-baseline space-x-3",children:[e.jsx("div",{children:e.jsx(ae,{pos:w(O(s.confirmedData.gasUsed,0)),total:w(O(s.gasLimit,0))})}),e.jsx(Je,{perc:Math.round(s.confirmedData.gasUsed.toNumber()/s.gasLimit.toNumber()*1e4)/100})]})}),a&&i&&e.jsxs(o,{title:"Block Base Fee",children:[e.jsx(x,{value:a.baseFeePerGas,decimals:9,symbol:"Gwei"})," ","(",e.jsx(x,{value:a.baseFeePerGas,decimals:0,symbol:"wei"}),")"]}),s.confirmedData&&e.jsxs(e.Fragment,{children:[e.jsx(o,{title:"Transaction Fee",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsx(re,{value:s.confirmedData.fee,blockTag:s.confirmedData.blockNumber,...ie})}),i&&e.jsx(xs,{txData:s})]})}),e.jsx(o,{title:`${me} Price`,children:e.jsx(qe,{blockTag:s.confirmedData.blockNumber})})]}),e.jsx(o,{title:"Input Data",children:e.jsx(Be,{fourBytes:t,resolvedTxDesc:L,hasParamNames:L===v,data:s.data,userMethod:te,devMethod:de})})]})},Vs=l.memo(ps);export{Vs as default};
