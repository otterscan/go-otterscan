import{r as n,j as e,F as b,ar as v,B as d,at as f,ai as r,f as N,T as l,b as w,H as E,J as S,ax as g}from"./index-1a1a81e1.js";import{S as _}from"./StandardFrame-33bf0827.js";import{S as y}from"./StandardSelectionBoundary-204c519a.js";import{S as T,C as V}from"./ContentFrame-677dbbad.js";import{J as h,N as F}from"./NavTab-e6699f77.js";import{I as s}from"./InfoRow-bba0e2d4.js";import{N as p}from"./NativeTokenAmountAndFiat-19062877.js";import{b as u}from"./FiatValue-dc8f4023.js";import{H as I}from"./HexValue-ca7ab322.js";import{E as o}from"./EpochLink-13106184.js";import"./hidden-7488b6ab.js";import"./NativeTokenAmount-907632e5.js";import"./FormattedBalance-4d723175.js";const k=({validatorIndex:t,slashed:a})=>e.jsx(T,{children:e.jsxs("div",{className:"flex items-baseline space-x-1",children:[e.jsx("span",{children:"Validator"}),e.jsxs("span",{className:"text-base text-gray-500",children:["#",t]}),a&&e.jsxs("span",{className:"space-x-2 rounded-xl border border-red-600 bg-red-200 px-2 py-1 text-sm text-red-600",children:[e.jsx("span",{className:"",children:e.jsx(b,{className:"self-center",icon:v,size:"1x"})}),e.jsx("span",{children:"slashed"})]})]})}),B=n.memo(k),j=d.from(10).pow(9),A=({validatorIndex:t})=>{const a=f(t);n.useEffect(()=>{a!==void 0&&(document.title=`Validator #${a.data.index} | Otterscan`)},[t,a]);const i=r(a==null?void 0:a.data.validator.activation_eligibility_epoch),c=r(a==null?void 0:a.data.validator.activation_epoch),x=r(a==null?void 0:a.data.validator.exit_epoch),m=r(a==null?void 0:a.data.validator.withdrawable_epoch);return e.jsx(V,{tabs:!0,children:a&&e.jsxs(e.Fragment,{children:[e.jsx(s,{title:"Index",children:N(a.data.index.toString())}),e.jsx(s,{title:"Public Key",children:e.jsx(I,{value:a.data.validator.pubkey})}),e.jsx(s,{title:"Balance",children:e.jsx(p,{value:d.from(a.data.balance).mul(j),...u})}),e.jsx(s,{title:"Effective Balance",children:e.jsx(p,{value:d.from(a.data.validator.effective_balance).mul(j),...u})}),e.jsx(s,{title:"Status",children:a.data.status}),e.jsx(s,{title:"Eligible Epoch",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(o,{epochNumber:a.data.validator.activation_eligibility_epoch}),i&&e.jsx(l,{value:i})]})}),e.jsx(s,{title:"Activation Epoch",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(o,{epochNumber:a.data.validator.activation_epoch}),c&&e.jsx(l,{value:c})]})}),x&&e.jsx(s,{title:"Exit Epoch",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(o,{epochNumber:a.data.validator.exit_epoch}),e.jsx(l,{value:x})]})}),m&&e.jsx(s,{title:"Withdrawable Epoch",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(o,{epochNumber:a.data.validator.withdrawable_epoch}),e.jsx(l,{value:m})]})})]})})},D=()=>{const{validatorIndex:t}=w();if(t===void 0)throw new Error("validatorIndex couldn't be undefined here");const a=H(t);if(a===void 0)throw new Error("Invalid validator index or public key");const i=f(a);return e.jsx(_,{children:i&&e.jsxs(e.Fragment,{children:[e.jsx(B,{validatorIndex:i.data.index,slashed:i.data.validator.slashed}),e.jsxs(y,{children:[e.jsx(h.Group,{children:e.jsx(h.List,{className:"flex space-x-2 rounded-t-lg border-l border-r border-t bg-white",children:e.jsx(F,{href:".",children:"Overview"})})}),e.jsx(n.Suspense,{fallback:null,children:e.jsx(E,{children:e.jsx(S,{index:!0,element:e.jsx(A,{validatorIndex:i.data.index})})})})]})]})})},H=t=>{if(t.match(/^\d+$/))return parseInt(t);if(t.length===98&&g(t,48))return t};export{D as default};
