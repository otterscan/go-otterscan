import{r as a,a as l,$ as m,bq as x,I as h,bu as f}from"./index-1a1a81e1.js";const g=t=>t.length<10?null:t.slice(0,10),d=t=>async([s,e])=>{if(e===null||e==="0x"||e.length!==10)return;const r=e.slice(2),n=f(t,r);try{const o=await fetch(n);if(!o.ok)return console.warn(`Signature does not exist in 4bytes DB: ${r}`),null;const c=(await o.text()).split(";")[0],u=c.indexOf("(");return{name:c.slice(0,u),signature:c}}catch{return null}},v=t=>{if(t!==null&&!t.startsWith("0x"))throw new Error(`rawFourBytes must contain a bytes hex string starting with 0x; received value: "${t}"`);const{config:s}=a.useContext(l),e=s==null?void 0:s.assetsURLPrefix,r=e!==void 0?t:null,n=d(e),{data:o,error:i}=m(["4bytes",r],n);return i?void 0:o},T=t=>{const s=g(t),e=v(s),r=t==="0x",n=r?"transfer":(e==null?void 0:e.name)??s??"-",o=r?"ETH Transfer":n===s?n:`${n} [${s}]`;return[r,n,o]},$=(t,s,e)=>a.useMemo(()=>{if(!t)return t;if(!t.signature||s===void 0||e===void 0)return;const n=t==null?void 0:t.signature,o=x.fromString(`function ${n}`),i=new h([o]);try{return i.parseTransaction({data:s,value:e})}catch{return}},[t,s,e]);export{$ as a,T as b,g as e,v as u};
