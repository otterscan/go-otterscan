import{j as a,r as d,Y as v,$ as b,a as C,k as P,P as y}from"./index-1a1a81e1.js";import{a as S}from"./StandardTBody-bb7ced43.js";import{C as j}from"./react-content-loader.es-44cea70a.js";import{p as f}from"./useErigonHooks-c9b7ed80.js";import{p as k}from"./DecoratedAddressLink-fc50b0da.js";const w=()=>a.jsx("div",{className:"p-1",children:a.jsx(j,{className:"h-4 w-full",viewBox:"0 0 100 100",speed:2,backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",preserveAspectRatio:"none",children:a.jsx("rect",{x:"0",y:"0",width:"100",height:"100",rx:"4",ry:"4"})})}),I=({rows:e,cols:s})=>a.jsx(S,{children:[...new Array(e).keys()].map((r,o)=>a.jsx("tr",{children:[...new Array(s).keys()].map((t,n)=>a.jsx("td",{children:a.jsx(w,{})},n))},o))}),B=d.memo(I),N=(e,s,r,o,t,n)=>{const c=k(r,o,t),u=`ots_get${s}List`,i=f(e),{data:p,error:l}=v(c===void 0?null:[u,c.idx,c.count],i);if(l){console.error(l);return}if(p===void 0)return;const g=p.results.map(m=>n(m)),h=new Map;for(const[m,x]of Object.entries(p.blocksSummary))h.set(parseInt(m),x);return{blocksSummary:h,results:g}},R=(e,s)=>{const r=`ots_get${s}Count`,o=f(e),{data:t,error:n}=b([r],o);if(!n)return t},M=()=>{let e=1;const[s]=P(),r=s.get("p");if(r)try{e=parseInt(r)}catch{}return e},_=(e,s)=>{const{provider:r}=d.useContext(C),o=M(),t=R(r,e),n=N(r,e,o,y,t,s);return{pageNumber:o,results:n,total:t}},L=(e,s,r)=>{const{pageNumber:o,results:t,total:n}=_(e,s),c=d.useMemo(()=>{if(t===void 0)return;const u=i=>r(i,t.blocksSummary);return t.results.map(u).reverse()},[t]);return{pageNumber:o,page:c,total:n}};export{B as P,L as a,M as u};
