import{R as N,j as e,B as v,u as g,r as u,a as k,b as B,c as F,t as R,U as w,d as y,e as U,f as i,T as P,N as S,g as L,F as T,h as H,i as h}from"./index-1a1a81e1.js";import{S as D}from"./StandardFrame-33bf0827.js";import{C as m,S as C}from"./ContentFrame-677dbbad.js";import{N as G}from"./NavBlock-c6c0f531.js";import{I as t}from"./InfoRow-bba0e2d4.js";import{N as l}from"./NativeTokenAmount-907632e5.js";import{F as E,r as I}from"./FiatValue-dc8f4023.js";import{R as V,N as z}from"./NativeTokenPrice-b2175a10.js";import{P as A}from"./PercentageBar-a372b68a.js";import{B as M}from"./BlockLink-7a655877.js";import{D as O}from"./DecoratedAddressLink-fc50b0da.js";import{F as c}from"./FormattedBalance-4d723175.js";import{H as d}from"./HexValue-ca7ab322.js";import{u as $}from"./useTitle-49ee0cfb.js";import{u as Z}from"./useErigonHooks-c9b7ed80.js";import"./NavButton-d3ad74da.js";const _=({blockNumberOrHash:a})=>e.jsx(m,{children:e.jsxs("div",{className:"py-4 text-sm",children:['Block "',a,'" not found.']})}),q=N.memo(_),J=({block:a})=>{const r=(a==null?void 0:a.feeReward)??v.from(0),o=a.blockReward.add(r),n=g(o,a.number);return e.jsxs(e.Fragment,{children:[e.jsx(l,{value:a.blockReward.add(r)}),!r.isZero()&&e.jsxs(e.Fragment,{children:[" ","(",e.jsx(l,{value:a.blockReward,hideUnit:!0})," +"," ",e.jsx(l,{value:r,hideUnit:!0}),")"]}),n&&e.jsxs(e.Fragment,{children:[" ",e.jsx(E,{value:n,...I})]})]})},me=()=>{const{provider:a}=u.useContext(k),{blockNumberOrHash:r}=B();if(r===void 0)throw new Error("blockNumberOrHash couldn't be undefined here");const{nativeCurrency:{name:o,symbol:n}}=F(),{data:s,isLoading:j}=Z(a,r);$(parseInt(r));const f=u.useMemo(()=>s&&R(s.extraData,w.replace),[s]),x=(s==null?void 0:s.baseFeePerGas)&&s.baseFeePerGas.mul(s.gasUsed),p=s&&s.gasUsed.mul(1e4).div(s.gasLimit).toNumber()/100,b=y(a);return e.jsxs(D,{children:[e.jsx(C,{children:e.jsxs("div",{className:"flex items-baseline space-x-1",children:[e.jsx("span",{children:"Block"}),e.jsxs("span",{className:"text-base text-gray-500",children:["#",r]}),s&&e.jsx(G,{entityNum:s.number,latestEntityNum:b,urlBuilder:U})]})}),s===null&&e.jsx(q,{blockNumberOrHash:r}),s===void 0&&e.jsx(m,{children:e.jsx(t,{title:"Block Height",children:"Loading block data..."})}),s&&e.jsxs(m,{isLoading:j,children:[e.jsx(t,{title:"Block Height",children:e.jsx("span",{className:"font-bold",children:i(s.number)})}),e.jsx(t,{title:"Timestamp",children:e.jsx(P,{value:s.timestamp})}),e.jsxs(t,{title:"Transactions",children:[e.jsxs(S,{className:"rounded-lg bg-link-blue/10 px-2 py-1 text-xs text-link-blue hover:bg-link-blue/100 hover:text-white",to:L(s.number),children:[s.transactionCount," transactions"]})," ","in this block"]}),e.jsx(t,{title:"Mined by",children:e.jsx(O,{address:s.miner,miner:!0})}),e.jsx(t,{title:"Block Reward",children:e.jsx(J,{block:s})}),e.jsx(t,{title:"Uncles Reward",children:e.jsx(l,{value:s.unclesReward})}),e.jsxs(t,{title:"Size",children:[i(s.size)," bytes"]}),s.baseFeePerGas&&e.jsx(t,{title:"Base Fee",children:e.jsxs("span",{children:[e.jsx(c,{value:s.baseFeePerGas,decimals:9,symbol:"Gwei"})," ","(",e.jsx(c,{value:s.baseFeePerGas,decimals:0,symbol:"wei"}),")"]})}),x&&e.jsx(t,{title:"Burnt Fees",children:e.jsx("div",{className:"flex items-baseline space-x-1",children:e.jsxs("span",{className:"flex space-x-1 text-orange-500",children:[e.jsx("span",{title:"Burnt fees",children:e.jsx(T,{icon:H,size:"1x"})}),e.jsxs("span",{children:[e.jsx("span",{className:"line-through",children:e.jsx(c,{value:x})})," ",n]})]})})}),e.jsx(t,{title:"Gas Used/Limit",children:e.jsxs("div",{className:"flex items-baseline space-x-3",children:[e.jsx("div",{children:e.jsx(V,{pos:i(h(s.gasUsed,0)),total:i(h(s.gasLimit,0))})}),e.jsx(A,{perc:p})]})}),e.jsxs(t,{title:"Extra Data",children:[f," (Hex:"," ",e.jsx("span",{className:"break-all font-data",children:s.extraData}),")"]}),e.jsx(t,{title:`${o} Price`,children:e.jsx(z,{blockTag:s.number})}),e.jsx(t,{title:"Difficulty",children:i(s._difficulty.toString())}),e.jsx(t,{title:"Total Difficulty",children:i(s.totalDifficulty.toString())}),e.jsx(t,{title:"Hash",children:e.jsx(d,{value:s.hash})}),e.jsx(t,{title:"Parent Hash",children:e.jsx(M,{blockTag:s.parentHash})}),e.jsx(t,{title:"Sha3Uncles",children:e.jsx(d,{value:s.sha3Uncles})}),e.jsx(t,{title:"StateRoot",children:e.jsx(d,{value:s.stateRoot})}),e.jsx(t,{title:"Nonce",children:e.jsx("span",{className:"font-data",children:s.nonce})})]})]})};export{me as default};
